<!DOCTYPE html>
<html lang="en">

<head>
<!--__GOLF_REDIRECT__-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">

<title>How to build a Web Service API</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="HandheldFriendly" content="True"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="canonical" href="https://rimstone-lang.com/article-shopping.html" />
<style>


body, html {
    font-family: Quicksand,monospace,Helvetica, Arial, sans-serif;
    line-height: 150%;
    font-size:16px;
}

body {
    padding-left:1vw;
    padding-right:1vw;
}
    
.ncode {
    letter-spacing: 0px;
    font-family: monospace;
    font-size:83%;
    display:inline-block;
    max-width:99%;
    min-width:90%;
    margin:0;
    padding:0;
    padding-left:5px;
    padding-top:3px;
    padding-bottom:3px;
    margin-bottom:8px;
    margin-top:8px;
    border: 2px solid #d6d6d6;
    background-color:#f5f7f4;
    white-space:nowrap;
}

.shcode {
    letter-spacing: 0px;
    font-family: monospace;
    font-size:83%;
    display:inline-block;
    max-width:99%;
    min-width:90%;
    margin:0;
    padding:0;
    padding-left:5px;
    padding-top:3px;
    padding-bottom:3px;
    margin-bottom:8px;
    margin-top:8px;
    border: 2px solid #d6d6d6;
    background-color:#f5f7f4;
    white-space:nowrap;
}

.sqlcode {
    letter-spacing: 0px;
    font-family: monospace;
    font-size:83%;
    display:inline-block;
    max-width:99%;
    min-width:90%;
    margin:0;
    padding:0;
    padding-left:5px;
    padding-top:3px;
    padding-bottom:3px;
    margin-bottom:8px;
    margin-top:8px;
    border: 2px solid #d6d6d6;
    background-color:#f5f7f4;
    white-space:nowrap;
}

.htmlcode {
    letter-spacing: 0px;
    font-family: monospace;
    font-size:83%;
    display:inline-block;
    max-width:99%;
    min-width:90%;
    margin:0;
    padding:0;
    padding-left:5px;
    padding-top:3px;
    padding-bottom:3px;
    margin-bottom:8px;
    margin-top:8px;
    border: 2px solid #d6d6d6;
    background-color:#f5f7f4;
    white-space:nowrap;
}

.code {
    letter-spacing: 0px;
    font-family: monospace;
    font-size:83%;
    display:inline-block;
    max-width:99%;
    min-width:90%;
    margin:0;
    padding:0;
    padding-left:5px;
    padding-top:3px;
    padding-bottom:3px;
    margin-bottom:8px;
    margin-top:8px;
    border: 2px solid #d6d6d6;
    background-color:#f5f7f4;
    white-space:nowrap;
}

/*Just like h1 but for pdf conversion it would be indented this way it's not*/
.vhub {
    display: block;
   font-size: 1.6em;
   margin-top: 0.63em;
   margin-bottom: 0.63em;
   margin-left: 0;
   margin-right: 0;
   font-weight: bold;
}

/*Just like h2 but for pdf conversion it would be indented this way it's not*/
.vsub {
    display: block;
   font-size: 1.25em;
   margin-top: 0.53em;
   margin-bottom: 0.53em;
   margin-left: 0;
   margin-right: 0;
   font-weight: bold;
}

ul {
  margin-left: 0.75vw;
  padding-left: 0;
}
li {
  margin-left: 0.75vw;
  padding-left: 0;
}

/* this must be last, as it overrides previous settings, for mobile */
@media (hover: none) {
a {
   display: inline-block;
   padding-top: 3px;
   padding-bottom: 2px;
}
body {
    padding-left:2vw;
    padding-right:2vw;
    letter-spacing: 1px;
}
}

/*The following is for code snippets that are highlighted by 2html vim*/
pre { overflow-x: scroll; margin:0; padding:0; font-family:monospace; }
.Identifier { color: #008b8b; }
.Statement { color: #af5f00; }
.PreProc { color: #5fd7ff; }
.Type { color: #005f00; }
.Comment { color: blue ; }
.Constant { color: #ff00ff; }
/*end of highlighted snippets*/

a {
    text-decoration:none;
    padding-bottom: 0px; 
    color:inherit;
    border-bottom: 2px solid #6cb8f0;
}
a:hover {
    text-decoration: none;
    color:black;
    border-bottom: 1px solid red;
}
/*do not underline links nor should they be active*/
pre a {
    text-decoration:none;
    color:black;
    border-bottom: none;
    pointer-events: none;
    cursor: default;
}


.golfSnippet {display:none;}

ul {
  list-style-type:square;
  list-style-position: outside;
}

</style>


</head>
<body>
<div id="google_translate_element" style='float:right'></div>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
<script>
function gg_copy(gt, eid, gc) {
  gt.textContent = eid.textContent;
  gt.select();
  document.execCommand("copy");
  gc.style.visibility="visible"
  setTimeout(()=>{ gc.style.visibility="hidden"; }, 1000);
}
function googleTranslateElementInit() {
   new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');
}

</script>

<!--GOLFMENU13-->

<!--GOLFENDMENU13-->



<!--BEGVDOC90-->
<div class='vhub' style='margin-top:10px;margin-right:20px;text-align:left;background-color:white;'><a href='https://rimstone-lang.com' style='border-bottom:0px'><img src='https://rimstone-lang.com/rimstone.png'/></a></div><div class='vhub' style='margin-top:10px;'>How to build a Web Service API</div><hr/><br/>
This article will show a simple shopping web API with basic functions, such as adding customers, items and orders, as well as updating and deleting them. It's easy to write and easy to understand with Golf; that's the reason code doesn't have much in a way of comments - there's no need.<br/>
<br/>
The API returns a valid JSON reply, even if it's just a single string (such as created ID for a customer, item or order). Listing an order returns a JSON document showing the order details. <br/>
<br/>
If you'd like to be as RESTful as possible, you can use POST, PUT, GET or DELETE request methods. We'll cover that in another post.<br/>
<br/>
The example is an open web service, i.e. it doesn't check for any permissions. You can add that separately (see <a href='https://rimstone-lang.com/article-notes-postgres.html'>article-notes-postgres</a>).<br/>
<br/>
This example will use PostgreSQL database, but you can use other databases too.<br/>
<div class="vsub"><a id="Keep this project in its own directory"></a>Keep this project in its own directory</div>
We'll create a new directory ("shop") to keep everything tidy. You can call this directory whatever you want. Then we'll create a new Golf application ("shopping"):<br/>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_283' class=notranslate>
<span class="Statement">mkdir</span> shop
<span class="Statement">cd</span> shop
gg <span class="Special">-k</span> shopping</pre>
<span id=rimstone_copied_283 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_283' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_283, code_283, rimstone_copied_283)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
<div class="vsub"><a id="Setup the database"></a>Setup the database</div>
Create the database "db_shopping":<br/>
<div class='sqlcode' style='position:relative;padding-right:16px;'>
<pre id='code_284' class=notranslate>
echo <span class="Special">&quot;</span><span class="Constant">create user $(whoami);</span>
<span class="Constant">create database db_shopping with owner=$(whoami);</span>
<span class="Constant">grant all on database db_shopping to $(whoami);</span>
<span class="Constant">\q</span><span class="Special">&quot;</span>  | sudo -u postgres psql</pre>
<span id=rimstone_copied_284 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_284' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_284, code_284, rimstone_copied_284)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
Create the "customers", "items", "orders" and "orderItems" tables we'll use:<br/>
<div class='sqlcode' style='position:relative;padding-right:16px;'>
<pre id='code_288' class=notranslate>
echo <span class="Special">&quot;</span><span class="Constant">drop table if exists customers; create table if not exists customers (firstName varchar(30), lastName varchar(30), customerID bigserial primary key);</span>
<span class="Constant">drop table if exists items; create table if not exists items (name varchar(30), description varchar(200), itemID bigserial primary key);</span>
<span class="Constant">drop table if exists orders; create table if not exists orders (customerID bigint, orderID bigserial primary key);</span>
<span class="Constant">drop table if exists orderItems; create table if not exists orderItems (orderID bigint, itemID bigint, quantity bigint);</span><span class="Special">&quot;</span> | psql -d db_shopping</pre>
<span id=rimstone_copied_288 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_288' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_288, code_288, rimstone_copied_288)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
<div class="vsub"><a id="Tell Golf about your database"></a>Tell Golf about your database</div>
First thing to do is to let Golf know what database it should use:<br/>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_287' class=notranslate>
<span class="Statement">echo</span><span class="Constant"> </span><span class="Statement">&quot;</span><span class="Constant">user=</span><span class="PreProc">$(</span><span class="Special">whoami</span><span class="PreProc">)</span><span class="Constant"> dbname=db_shopping</span><span class="Statement">&quot;</span><span class="Constant"> </span><span class="Statement">&gt;</span> db</pre>
<span id=rimstone_copied_287 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_287' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_287, code_287, rimstone_copied_287)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
This tells Golf that a database "db" is setup (with database user being the same as your Operating System user, and the database name being "db_shopping"). Golf makes this easy by letting you use a given database's native format for client configuration, which you're likely to be familiar with. So if you used MariaDB or SQLite for instance, you would have used their native client configuration files. <br/>
<div class="vsub"><a id="Source code for web service"></a>Source code for web service</div>
Here are the source code files.<br/>
<br/>
<span style="font-weight:bold;">- Add a new customer</span><br/>
<br/>
Create file "add-customer.golf" and copy the following to it:<br/>
<div class='code'  style='position:relative;padding-right:16px;'>
<pre id='code_282' class=notranslate>
begin-handler /add-customer
    out-header use content-type &quot;application/json&quot;
    get-param first_name
    get-param last_name
    // Add a customer SQL
    run-query @db =&quot;insert into customers (firstName, lastName) \
            values ('%s', '%s') returning customerID&quot; output customerID : \
            first_name, last_name
        @&quot;&lt;&lt;print-out customerID&gt;&gt;&quot;
    end-query
end-handler</pre>
<span id=rimstone_copied_282 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_282' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_282, code_282, rimstone_copied_282)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
<span style="font-weight:bold;">- Add new item for sale</span><br/>
<br/>
Create file "add-item.golf" and copy the following to it:<br/>
<div class='code'  style='position:relative;padding-right:16px;'>
<pre id='code_286' class=notranslate>
begin-handler /add-item
    out-header use content-type &quot;application/json&quot;
    get-param name
    get-param description
    // Add an item to inventory SQL
    run-query @db =&quot;insert into items (name, description) \
        values ('%s', '%s') returning itemID&quot; output item_id : name, description
        @&quot;&lt;&lt;print-out item_id&gt;&gt;&quot;
    end-query
end-handler</pre>
<span id=rimstone_copied_286 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_286' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_286, code_286, rimstone_copied_286)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
<span style="font-weight:bold;">- Add an item to an order</span><br/>
<br/>
Create file "add-to-order.golf" and copy the following to it:<br/>
<div class='code'  style='position:relative;padding-right:16px;'>
<pre id='code_290' class=notranslate>
begin-handler /add-to-order
    out-header use content-type &quot;application/json&quot;
    get-param order_id
    get-param item_id
    get-param quantity
    // SQL to add an item to an order
    run-query @db =&quot;insert into orderItems (orderId, itemID, quantity) values  ('%s', '%s', '%s')&quot; \
        : order_id, item_id, quantity no-loop affected-rows arows
    @&quot;&lt;&lt;print-out arows&gt;&gt;&quot;
end-handler</pre>
<span id=rimstone_copied_290 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_290' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_290, code_290, rimstone_copied_290)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
<span style="font-weight:bold;">- Create a new order</span><br/>
<br/>
Create file "create-order.golf" and copy the following to it:<br/>
<div class='code'  style='position:relative;padding-right:16px;'>
<pre id='code_293' class=notranslate>
begin-handler /create-order
    out-header use content-type &quot;application/json&quot;
    get-param customer_id
    // SQL to create an order
    run-query @db =&quot;insert into orders (customerId) \
        values ('%s') returning orderID&quot; output order_id : customer_id
        @&quot;&lt;&lt;print-out order_id&gt;&gt;&quot;
    end-query
end-handler</pre>
<span id=rimstone_copied_293 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_293' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_293, code_293, rimstone_copied_293)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
<span style="font-weight:bold;">- Delete an order</span><br/>
<br/>
Create file "delete-order.golf" and copy the following to it:<br/>
<div class='code'  style='position:relative;padding-right:16px;'>
<pre id='code_296' class=notranslate>
begin-handler /delete-order
    out-header use content-type &quot;application/json&quot;
    get-param order_id
    begin-transaction
    run-query @db =&quot;delete from orders where orderID='%s'&quot; : order_id \
        no-loop affected-rows order_rows
    run-query @db =&quot;delete from orderItems where orderID='%s'&quot; : order_id \
        no-loop affected-rows item_rows
    commit-transaction
    @{ &quot;orders&quot;:&quot;&lt;&lt;print-out order_rows&gt;&gt;&quot;, &quot;items&quot;:&quot;&lt;&lt;print-out item_rows&gt;&gt;&quot; }
end-handler</pre>
<span id=rimstone_copied_296 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_296' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_296, code_296, rimstone_copied_296)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
<span style="font-weight:bold;">- Make a JSON document describing an order</span><br/>
<br/>
Create file "json-from-order.golf" and copy the following to it:<br/>
<div class='code'  style='position:relative;padding-right:16px;'>
<pre id='code_299' class=notranslate>
begin-handler /json_from_order
    get-param order_id type string
    get-param curr_order type number
    get-param order_count type number
    get-param customer_id type string
    get-param first_name type string
    get-param last_name type string
    @   {
    @       &quot;orderID&quot;: &quot;&lt;&lt;print-out order_id&gt;&gt;&quot;,
    @       &quot;customer&quot;:
    @       {
    @           &quot;customerID&quot;: &quot;&lt;&lt;print-out customer_id&gt;&gt;&quot;,
    @           &quot;firstName&quot;: &quot;&lt;&lt;print-out first_name&gt;&gt;&quot;,
    @           &quot;lastName&quot;: &quot;&lt;&lt;print-out last_name&gt;&gt;&quot;
    @       },
    @       &quot;items&quot;: [
    set-number curr_item = 0
    // Query to get all items in an order
    run-query @db =&quot;select i.itemID, t.name, t.description, i.quantity \
            from orderItems i, items t where i.orderID='%s' \
                and t.itemID=i.itemID&quot; \
            output itemID, itemName, itemDescription, itemQuantity : order_id \
            row-count item_count
        @       {
        @           &quot;itemID&quot;: &quot;&lt;&lt;print-out itemID&gt;&gt;&quot;,
        @           &quot;itemName&quot;: &quot;&lt;&lt;print-out itemName&gt;&gt;&quot;,
        @           &quot;itemDescription&quot;: &quot;&lt;&lt;print-out itemDescription&gt;&gt;&quot;,
        @           &quot;itemQuantity&quot;: &quot;&lt;&lt;print-out itemQuantity&gt;&gt;&quot;
        // add a comma if there are more items after this
        set-number curr_item=curr_item+1
        if-true curr_item lesser-than item_count
            @       },
        else-if
            @       }
        end-if
    end-query
    @   ]
    // add a comma if there are more orders after this
    set-number curr_order = curr_order+1
    if-true curr_order lesser-than order_count
        @},
    else-if
        @}
    end-if
end-handler</pre>
<span id=rimstone_copied_299 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_299' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_299, code_299, rimstone_copied_299)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
<span style="font-weight:bold;">- List orders</span><br/>
<br/>
Create file "list-orders.golf" and copy the following to it:<br/>
<div class='code'  style='position:relative;padding-right:16px;'>
<pre id='code_302' class=notranslate>
begin-handler /list-orders
    out-header use content-type &quot;application/json&quot;
    get-param order_id default-value &quot;&quot;
    set-number curr_order = 0
    // Start JSON output
    @{ &quot;orders&quot;: [
    if-true order_id not-equal &quot;&quot;
        // Query just a specific order
        run-query @db = &quot;select o.orderID, c.customerID, c.firstName, c.lastName \
                from orders o, customers c \
                where o.customerID=c.customerID and o.orderId='%s'&quot; \
                output customer_id, first_name, last_name \
                row-count order_count : order_id
                set-param order_id, curr_order, order_count, customer_id, first_name, last_name
                call-handler &quot;/json_from_order&quot;
        end-query
    else-if
        // Query to get all orders
        run-query @db =&quot;select o.orderID, c.customerID, c.firstName, c.lastName \
                from orders o, customers c \
                where o.customerID=c.customerID order by o.orderId&quot; \
                output order_id, customer_id, first_name, last_name \
                row-count order_count
                set-param order_id, curr_order, order_count, customer_id, first_name, last_name
                call-handler &quot;/json_from_order&quot;
        end-query
    end-if
    // Finish JSON output
    @   ]
    @}
end-handler</pre>
<span id=rimstone_copied_302 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_302' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_302, code_302, rimstone_copied_302)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
<span style="font-weight:bold;">- Update an order</span><br/>
<br/>
Create file "update-order.golf" and copy the following to it:<br/>
<div class='code'  style='position:relative;padding-right:16px;'>
<pre id='code_305' class=notranslate>
begin-handler /update-order
    out-header use content-type &quot;application/json&quot;
    get-param order_id, item_id, quantity
    set-number arows
    // If quantity update is 0, issue SQL to delete an item from order, otherwise update
    if-true quantity equal &quot;0&quot;
        run-query @db =&quot;delete from orderItems where orderID='%s' and itemID='%s'&quot; \
            : order_id, item_id no-loop affected-rows arows
    else-if
        run-query @db =&quot;update orderItems set quantity='%s' where orderID='%s' and itemID='%s'&quot; \
            : quantity, order_id, item_id no-loop affected-rows arows
    end-if
    @&quot;&lt;&lt;print-out arows&gt;&gt;&quot;
end-handler</pre>
<span id=rimstone_copied_305 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_305' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_305, code_305, rimstone_copied_305)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
<div class="vsub"><a id="Make the application"></a>Make the application</div>
Specify the database "db" (remember we set it up above), and make all handlers public (i.e. they can handle external calls from the outside callers, and not just from within the application):<br/>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_291' class=notranslate>
gg <span class="Special">-q</span> <span class="Special">--db</span><span class="Statement">=</span>postgres:db <span class="Special">--public</span></pre>
<span id=rimstone_copied_291 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_291' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_291, code_291, rimstone_copied_291)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
<div class="vsub"><a id="Try it"></a>Try it</div>
The following is just playing with the API. Golf lets you run your web services from command line, so you can see byte-for-byte exactly what's the response. So the responses below include HTTP header, which in this case is very simple. You can disable HTTP output by specifying "--silent-header" in <a href='https://rimstone-lang.com/gg.html'>gg</a> invocations below.<br/>
<br/>
Add new customer:<br/>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_294' class=notranslate>
gg <span class="Special">-r</span> <span class="Special">--req</span><span class="Statement">=</span><span class="Statement">&quot;</span><span class="Constant">/add-customer/first-name=Mike/last-name=Gonzales</span><span class="Statement">&quot;</span> <span class="Special">--exec</span></pre>
<span id=rimstone_copied_294 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_294' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_294, code_294, rimstone_copied_294)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
Resulting JSON (showing the ID of a new customer):<br/>
<div class='ncode' style='position:relative;padding-right:16px;'>
<pre id='code_281' class=notranslate>
Content-Type: application/json
Cache-Control: max-age=0, no-cache
Status: 200 OK

&quot;1&quot;</pre>
<span id=rimstone_copied_281 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_281' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_281, code_281, rimstone_copied_281)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
Add an item for sale (showing the ID of a newly added item):<br/>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_297' class=notranslate>
gg <span class="Special">-r</span> <span class="Special">--req</span><span class="Statement">=</span><span class="Statement">&quot;</span><span class="Constant">/add-item/name=Milk/description=Lactose-Free</span><span class="Statement">&quot;</span> <span class="Special">--exec</span></pre>
<span id=rimstone_copied_297 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_297' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_297, code_297, rimstone_copied_297)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
The result:<br/>
<div class='ncode' style='position:relative;padding-right:16px;'>
<pre id='code_285' class=notranslate>
Content-Type: application/json
Cache-Control: max-age=0, no-cache
Status: 200 OK

&quot;1&quot;</pre>
<span id=rimstone_copied_285 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_285' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_285, code_285, rimstone_copied_285)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
Add a new order for the customer we created (showing the ID of order):<br/>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_300' class=notranslate>
gg <span class="Special">-r</span> <span class="Special">--req</span><span class="Statement">=</span><span class="Statement">&quot;</span><span class="Constant">/create-order/customer-id=1</span><span class="Statement">&quot;</span> <span class="Special">--exec</span></pre>
<span id=rimstone_copied_300 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_300' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_300, code_300, rimstone_copied_300)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
The result:<br/>
<div class='ncode' style='position:relative;padding-right:16px;'>
<pre id='code_289' class=notranslate>
Content-Type: application/json
Cache-Control: max-age=0, no-cache
Status: 200 OK

&quot;1&quot;</pre>
<span id=rimstone_copied_289 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_289' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_289, code_289, rimstone_copied_289)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
Add an item to order, in quantity of 2 (showing number of items added, not the quantity):<br/>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_303' class=notranslate>
gg <span class="Special">-r</span> <span class="Special">--req</span><span class="Statement">=</span><span class="Statement">&quot;</span><span class="Constant">/add-to-order/order-id=1/item-id=1/quantity=2</span><span class="Statement">&quot;</span> <span class="Special">--exec</span></pre>
<span id=rimstone_copied_303 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_303' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_303, code_303, rimstone_copied_303)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
The result:<br/>
<div class='ncode' style='position:relative;padding-right:16px;'>
<pre id='code_292' class=notranslate>
Content-Type: application/json
Cache-Control: max-age=0, no-cache
Status: 200 OK

&quot;1&quot;</pre>
<span id=rimstone_copied_292 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_292' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_292, code_292, rimstone_copied_292)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
List orders:<br/>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_306' class=notranslate>
gg <span class="Special">-r</span> <span class="Special">--req</span><span class="Statement">=</span><span class="Statement">&quot;</span><span class="Constant">/list-orders</span><span class="Statement">&quot;</span> <span class="Special">--exec</span></pre>
<span id=rimstone_copied_306 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_306' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_306, code_306, rimstone_copied_306)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
Here's the JSON showing current orders (just one in our case):<br/>
<div class='ncode' style='position:relative;padding-right:16px;'>
<pre id='code_295' class=notranslate>
Content-Type: application/json
Cache-Control: max-age=0, no-cache
Status: 200 OK

{ &quot;orders&quot;: [
   {
       &quot;orderID&quot;: &quot;1&quot;,
       &quot;customer&quot;:
       {
           &quot;customerID&quot;: &quot;1&quot;,
           &quot;firstName&quot;: &quot;Mike&quot;,
           &quot;lastName&quot;: &quot;Gonzales&quot;
       },
       &quot;items&quot;: [
       {
           &quot;itemID&quot;: &quot;1&quot;,
           &quot;itemName&quot;: &quot;Milk&quot;,
           &quot;itemDescription&quot;: &quot;Lactose-Free&quot;,
           &quot;itemQuantity&quot;: &quot;2&quot;
       }
   ]
}
   ]
}</pre>
<span id=rimstone_copied_295 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_295' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_295, code_295, rimstone_copied_295)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
Add another item for sale (showing the ID of this new item):<br/>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_308' class=notranslate>
gg <span class="Special">-r</span> <span class="Special">--req</span><span class="Statement">=</span><span class="Statement">&quot;</span><span class="Constant">/add-item/name=Bread/description=Sliced</span><span class="Statement">&quot;</span> <span class="Special">--exec</span></pre>
<span id=rimstone_copied_308 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_308' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_308, code_308, rimstone_copied_308)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
The result (showing the ID of a newly added item):<br/>
<div class='ncode' style='position:relative;padding-right:16px;'>
<pre id='code_298' class=notranslate>
Content-Type: application/json
Cache-Control: max-age=0, no-cache
Status: 200 OK

&quot;2&quot;</pre>
<span id=rimstone_copied_298 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_298' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_298, code_298, rimstone_copied_298)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
Add a quantity of 3 of the new item we added (ID of 2):<br/>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_275' class=notranslate>
gg <span class="Special">-r</span> <span class="Special">--req</span><span class="Statement">=</span><span class="Statement">&quot;</span><span class="Constant">/add-to-order/order-id=1/item-id=2/quantity=3</span><span class="Statement">&quot;</span> <span class="Special">--exec</span></pre>
<span id=rimstone_copied_275 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_275' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_275, code_275, rimstone_copied_275)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
The result (showing the number of items added, not the quantity):<br/>
<div class='ncode' style='position:relative;padding-right:16px;'>
<pre id='code_301' class=notranslate>
Content-Type: application/json
Cache-Control: max-age=0, no-cache
Status: 200 OK

&quot;1&quot;</pre>
<span id=rimstone_copied_301 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_301' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_301, code_301, rimstone_copied_301)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
List orders again:<br/>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_277' class=notranslate>
gg <span class="Special">-r</span> <span class="Special">--req</span><span class="Statement">=</span><span class="Statement">&quot;</span><span class="Constant">/list-orders</span><span class="Statement">&quot;</span> <span class="Special">--exec</span></pre>
<span id=rimstone_copied_277 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_277' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_277, code_277, rimstone_copied_277)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
The result, now there's new items here:<br/>
<div class='ncode' style='position:relative;padding-right:16px;'>
<pre id='code_304' class=notranslate>
Content-Type: application/json
Cache-Control: max-age=0, no-cache
Status: 200 OK

{ &quot;orders&quot;: [
   {
       &quot;orderID&quot;: &quot;1&quot;,
       &quot;customer&quot;:
       {
           &quot;customerID&quot;: &quot;1&quot;,
           &quot;firstName&quot;: &quot;Mike&quot;,
           &quot;lastName&quot;: &quot;Gonzales&quot;
       },
       &quot;items&quot;: [
       {
           &quot;itemID&quot;: &quot;1&quot;,
           &quot;itemName&quot;: &quot;Milk&quot;,
           &quot;itemDescription&quot;: &quot;Lactose-Free&quot;,
           &quot;itemQuantity&quot;: &quot;2&quot;
       },
       {
           &quot;itemID&quot;: &quot;2&quot;,
           &quot;itemName&quot;: &quot;Bread&quot;,
           &quot;itemDescription&quot;: &quot;Sliced&quot;,
           &quot;itemQuantity&quot;: &quot;3&quot;
       }
   ]
}
   ]
}</pre>
<span id=rimstone_copied_304 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_304' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_304, code_304, rimstone_copied_304)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
Update order, by changing the quantity of item (we specify order ID, item ID and the new quantity):<br/>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_278' class=notranslate>
gg <span class="Special">-r</span> <span class="Special">--req</span><span class="Statement">=</span><span class="Statement">&quot;</span><span class="Constant">/update-order/order-id=1/item-id=2/quantity=4</span><span class="Statement">&quot;</span> <span class="Special">--exec</span></pre>
<span id=rimstone_copied_278 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_278' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_278, code_278, rimstone_copied_278)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
The result showing number of items updated:<br/>
<div class='ncode' style='position:relative;padding-right:16px;'>
<pre id='code_307' class=notranslate>
Content-Type: application/json
Cache-Control: max-age=0, no-cache
Status: 200 OK

&quot;1&quot;</pre>
<span id=rimstone_copied_307 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_307' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_307, code_307, rimstone_copied_307)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
List orders to show the update:<br/>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_279' class=notranslate>
gg <span class="Special">-r</span> <span class="Special">--req</span><span class="Statement">=</span><span class="Statement">&quot;</span><span class="Constant">/list-orders</span><span class="Statement">&quot;</span> <span class="Special">--exec</span></pre>
<span id=rimstone_copied_279 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_279' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_279, code_279, rimstone_copied_279)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
And it shows:<br/>
<div class='ncode' style='position:relative;padding-right:16px;'>
<pre id='code_274' class=notranslate>
Content-Type: application/json
Cache-Control: max-age=0, no-cache
Status: 200 OK

{ &quot;orders&quot;: [
   {
       &quot;orderID&quot;: &quot;1&quot;,
       &quot;customer&quot;:
       {
           &quot;customerID&quot;: &quot;1&quot;,
           &quot;firstName&quot;: &quot;Mike&quot;,
           &quot;lastName&quot;: &quot;Gonzales&quot;
       },
       &quot;items&quot;: [
       {
           &quot;itemID&quot;: &quot;1&quot;,
           &quot;itemName&quot;: &quot;Milk&quot;,
           &quot;itemDescription&quot;: &quot;Lactose-Free&quot;,
           &quot;itemQuantity&quot;: &quot;2&quot;
       },
       {
           &quot;itemID&quot;: &quot;2&quot;,
           &quot;itemName&quot;: &quot;Bread&quot;,
           &quot;itemDescription&quot;: &quot;Sliced&quot;,
           &quot;itemQuantity&quot;: &quot;4&quot;
       }
   ]
}
   ]
}</pre>
<span id=rimstone_copied_274 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_274' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_274, code_274, rimstone_copied_274)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
Delete an order:<br/>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_280' class=notranslate>
gg <span class="Special">-r</span> <span class="Special">--req</span><span class="Statement">=</span><span class="Statement">&quot;</span><span class="Constant">/delete-order/order-id=1</span><span class="Statement">&quot;</span> <span class="Special">--exec</span></pre>
<span id=rimstone_copied_280 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_280' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_280, code_280, rimstone_copied_280)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
The result JSON (showing the number of items deleted in it):<br/>
<div class='ncode' style='position:relative;padding-right:16px;'>
<pre id='code_276' class=notranslate>
Content-Type: application/json
Cache-Control: max-age=0, no-cache
Status: 200 OK

{ &quot;orders&quot;:&quot;1&quot;, &quot;items&quot;:&quot;2&quot; }</pre>
<span id=rimstone_copied_276 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_276' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='gg_copy(rimstonet_276, code_276, rimstone_copied_276)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
<div class="vsub"><a id="Conclusion"></a>Conclusion</div>
You can see that building web services can be easy and fast. More importantly, what matters is also how easy it is to come back to it 6 months later and understand right away what's what. You can try that 6 months from now and see if it's true for you. I'd say chances are pretty good.<br/>
<!--ENDVDOC90-->
<br/><div style='width:100%;clear:both;'>
<hr/>
<!--GOLFFOOT77--><span style='font-size:80%'><a href="https://rimstone-lang.com/copyright.html">Copyright</a> (c) 2019-2025 Gliim LLC. All contents on this web site is "AS IS" without warranties or guarantees of any kind.</span>
</div><br/></body></html>


