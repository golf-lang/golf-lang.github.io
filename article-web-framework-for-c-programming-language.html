<!DOCTYPE html>
<html lang="en">

<head>
<!--__GOLF_REDIRECT__-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">

<title>Web framework for C programming language</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="HandheldFriendly" content="True"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="canonical" href="https://golf-lang.com/article-web-framework-for-c-programming-language.html" />
<style>


body, html {
    font-family: Quicksand,monospace,Helvetica, Arial, sans-serif;
    line-height: 150%;
    font-size:16px;
}

body {
    padding-left:1vw;
    padding-right:1vw;
}
    
.ncode {
    letter-spacing: 0px;
    font-family: monospace;
    font-size:83%;
    display:inline-block;
    max-width:99%;
    min-width:90%;
    margin:0;
    padding:0;
    padding-left:5px;
    padding-top:3px;
    padding-bottom:3px;
    margin-bottom:15px;
    border: 2px solid #d6d6d6;
    background-color:#f5f7f4;
    white-space:nowrap;
}

.shcode {
    letter-spacing: 0px;
    font-family: monospace;
    font-size:83%;
    display:inline-block;
    max-width:99%;
    min-width:90%;
    margin:0;
    padding:0;
    padding-left:5px;
    padding-top:3px;
    padding-bottom:3px;
    margin-bottom:15px;
    border: 2px solid #d6d6d6;
    background-color:#f5f7f4;
    white-space:nowrap;
}

.sqlcode {
    letter-spacing: 0px;
    font-family: monospace;
    font-size:83%;
    display:inline-block;
    max-width:99%;
    min-width:90%;
    margin:0;
    padding:0;
    padding-left:5px;
    padding-top:3px;
    padding-bottom:3px;
    margin-bottom:15px;
    border: 2px solid #d6d6d6;
    background-color:#f5f7f4;
    white-space:nowrap;
}

.htmlcode {
    letter-spacing: 0px;
    font-family: monospace;
    font-size:83%;
    display:inline-block;
    max-width:99%;
    min-width:90%;
    margin:0;
    padding:0;
    padding-left:5px;
    padding-top:3px;
    padding-bottom:3px;
    margin-bottom:15px;
    border: 2px solid #d6d6d6;
    background-color:#f5f7f4;
    white-space:nowrap;
}

.code {
    letter-spacing: 0px;
    font-family: monospace;
    font-size:83%;
    display:inline-block;
    max-width:99%;
    min-width:90%;
    margin:0;
    padding:0;
    padding-left:5px;
    padding-top:3px;
    padding-bottom:3px;
    margin-bottom:15px;
    border: 2px solid #d6d6d6;
    background-color:#f5f7f4;
    white-space:nowrap;
}

/*Just like h1 but for pdf conversion it would be indented this way it's not*/
.vhub {
    display: block;
   font-size: 1.6em;
   margin-top: 0.63em;
   margin-bottom: 0.63em;
   margin-left: 0;
   margin-right: 0;
   font-weight: bold;
}

/*Just like h2 but for pdf conversion it would be indented this way it's not*/
.vsub {
    display: block;
   font-size: 1.25em;
   margin-top: 0.53em;
   margin-bottom: 0.53em;
   margin-left: 0;
   margin-right: 0;
   font-weight: bold;
}

ul {
  margin-left: 0.75vw;
  padding-left: 0;
}
li {
  margin-left: 0.75vw;
  padding-left: 0;
}

/* this must be last, as it overrides previous settings, for mobile */
@media (hover: none) {
a {
   display: inline-block;
   padding-top: 3px;
   padding-bottom: 2px;
}
body {
    padding-left:2vw;
    padding-right:2vw;
    letter-spacing: 1px;
}
}

/*The following is for code snippets that are highlighted by 2html vim*/
pre { overflow-x: scroll; margin:0; padding:0; font-family:monospace; }
.Identifier { color: #008b8b; }
.Statement { color: #af5f00; }
.PreProc { color: #5fd7ff; }
.Type { color: #005f00; }
.Comment { color: blue ; }
.Constant { color: #ff00ff; }
/*end of highlighted snippets*/

a {
    text-decoration:none;
    padding-bottom: 0px; 
    color:inherit;
    border-bottom: 2px solid #6cb8f0;
}
a:hover {
    text-decoration: none;
    color:black;
    border-bottom: 1px solid red;
}
/*do not underline links nor should they be active*/
pre a {
    text-decoration:none;
    color:black;
    border-bottom: none;
    pointer-events: none;
    cursor: default;
}


.golfSnippet {display:none;}

ul {
  list-style-type:square;
  list-style-position: outside;
}

</style>


</head>
<body>
<div id="google_translate_element" style='float:right'></div>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
<script>
function gg_copy(gt, eid, gc) {
  gt.textContent = eid.textContent;
  gt.select();
  document.execCommand("copy");
  gc.style.visibility="visible"
  setTimeout(()=>{ gc.style.visibility="hidden"; }, 1000);
}
function googleTranslateElementInit() {
   new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');
}

</script>

<!--GOLFMENU13-->

<!--GOLFENDMENU13-->



<!--BEGVDOC90-->
<div class='vhub' style='margin-top:10px;margin-right:20px;text-align:left;background-color:white;'><a href='https://golf-lang.com' style='border-bottom:0px'><img src='https://golf-lang.com/golf.png'/></a></div><div class='vhub' style='margin-top:10px;'>Web framework for C programming language</div><hr/><br/>
Golf has an "extended" mode, which allows for C code to be used directly. Normally, this is not allowed, but if you use <a href='https://golf-lang.com/extended-mode.html'>extended-mode</a> statement in your .golf file, then you can call C code from it.<br/>
<br/>
In extended mode, Golf is effectively a <a href='https://golf-lang.com/web-framework-for-C-programming-language.html'>web framework for C programming language</a>; read this for more about implications on memory safety.<br/>
<br/>
Here's the example of using Golf as a web framework for C. In this case it's a simple C function to calculate the factorial of a a number. Then we'll expose this functionality in an equally simple web application. <br/>
<div class="vsub"><a id="Create the Golf application"></a>Create the Golf application</div>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_314' class=notranslate>
<span class="Statement">mkdir</span> <span class="Special">-p</span> c-for-web
<span class="Statement">cd</span> c-for-web</pre>
<span id=golf_copied_314 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='golft_314' style='position: absolute;left: -500%;'></textarea>
<img src='https://golf-lang.com/golf-copy-small-1.png' id='golfb' onclick='gg_copy(golft_314, code_314, golf_copied_314)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
Create "fact" application ("-k"):<br/>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_317' class=notranslate>
gg <span class="Special">-k</span> fact</pre>
<span id=golf_copied_317 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='golft_317' style='position: absolute;left: -500%;'></textarea>
<img src='https://golf-lang.com/golf-copy-small-1.png' id='golfb' onclick='gg_copy(golft_317, code_317, golf_copied_317)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
Save the following into a file "calc-fact.golf". This is the web service which will interact with web clients (such as browsers); it will also call the C function we'll create a bit further below:<br/>
<div class='code'  style='position:relative;padding-right:16px;'>
<pre id='code_312' class=notranslate>
<span class="Statement"> extended-mode</span> <span class="Comment">// extended mode in order to call C code</span>

<span class="Statement"> %%</span> /calc-fact<span class="Identifier"> public</span>
<span class="Statement">     get-param</span> par <span class="Comment">// get input parameter from URL</span>
<span class="Statement">     string-number</span> par<span class="Type"> to</span> num <span class="Comment">// convert to number</span>
<span class="Statement">     set-number</span> result
<span class="Statement">     call-extended</span> factorial(num, &amp;result) <span class="Comment">// call C function</span>
     <span class="Comment">// Output result</span>
<span class="Statement">     @</span>Factorial of <span class="Statement">&lt;&lt;print-out</span> par<span class="Statement">&gt;&gt;</span> is <span class="Statement">&lt;&lt;print-out</span> result<span class="Statement">&gt;&gt;</span>
<span class="Statement"> %%</span></pre>
<span id=golf_copied_312 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='golft_312' style='position: absolute;left: -500%;'></textarea>
<img src='https://golf-lang.com/golf-copy-small-1.png' id='golfb' onclick='gg_copy(golft_312, code_312, golf_copied_312)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
<div class="vsub"><a id="Add C code to Golf application"></a>Add C code to Golf application</div>
Next, create C file "factorial.c". This is the C function we're calling from Golf code above:<br/>
<div class='code'  style='position:relative;padding-right:16px;'>
<pre id='code_315' class=notranslate>
 <span class="PreProc">#include </span><span class="Constant">&quot;golf.h&quot;</span>

 <span class="Comment">// Compute factorial of f, and store result into res</span>
 <span class="Type">void</span> factorial(gg_num f, gg_num *res)
<span class="Statement"> {</span>
     *res = <span class="Constant">1</span>;
     gg_num i;
     <span class="Statement">for</span> (i = <span class="Constant">2</span>; i &lt;= f; i++) {
         *res *= i;
<span class="Statement">     }</span>
<span class="Statement"> }</span></pre>
<span id=golf_copied_315 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='golft_315' style='position: absolute;left: -500%;'></textarea>
<img src='https://golf-lang.com/golf-copy-small-1.png' id='golfb' onclick='gg_copy(golft_315, code_315, golf_copied_315)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
And an include file "factorial.h" to declare any function(s) we will use in Golf code:<br/>
<div class='code'  style='position:relative;padding-right:16px;'>
<pre id='code_318' class=notranslate>
 <span class="Type">void</span> factorial(gg_num f, gg_num *res);</pre>
<span id=golf_copied_318 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='golft_318' style='position: absolute;left: -500%;'></textarea>
<img src='https://golf-lang.com/golf-copy-small-1.png' id='golfb' onclick='gg_copy(golft_318, code_318, golf_copied_318)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
<div class="vsub"><a id="Compile and start the server"></a>Compile and start the server</div>
Golf will pick up all .golf as well as all .c and .h file and make them into an application:<br/>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_320' class=notranslate>
gg <span class="Special">-q</span></pre>
<span id=golf_copied_320 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='golft_320' style='position: absolute;left: -500%;'></textarea>
<img src='https://golf-lang.com/golf-copy-small-1.png' id='golfb' onclick='gg_copy(golft_320, code_320, golf_copied_320)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
Start the server:<br/>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_322' class=notranslate>
mgrg fact</pre>
<span id=golf_copied_322 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='golft_322' style='position: absolute;left: -500%;'></textarea>
<img src='https://golf-lang.com/golf-copy-small-1.png' id='golfb' onclick='gg_copy(golft_322, code_322, golf_copied_322)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
<div class="vsub"><a id="Test the server from command line"></a>Test the server from command line</div>
You can test this web application from command line (note --service flag!). This is useful because you can develop web applications just from command line:<br/>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_323' class=notranslate>
gg <span class="Special">-r</span> <span class="Special">--req</span><span class="Statement">=</span>/calc-fact/<span class="Identifier">par</span>=<span class="Constant">12</span> <span class="Special">--exec</span> <span class="Special">--service</span></pre>
<span id=golf_copied_323 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='golft_323' style='position: absolute;left: -500%;'></textarea>
<img src='https://golf-lang.com/golf-copy-small-1.png' id='golfb' onclick='gg_copy(golft_323, code_323, golf_copied_323)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
The result is:<br/>
<div class='ncode' style='position:relative;padding-right:16px;'>
<pre id='code_313' class=notranslate>
Content-Type: text/html;charset=utf-8
Cache-Control: max-age=0, no-cache
Pragma: no-cache
Status: 200 OK

Factorial of 12 is 479001600</pre>
<span id=golf_copied_313 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='golft_313' style='position: absolute;left: -500%;'></textarea>
<img src='https://golf-lang.com/golf-copy-small-1.png' id='golfb' onclick='gg_copy(golft_313, code_313, golf_copied_313)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
This is the exact data that would be sent to an actual web client. <br/>
<div class="vsub"><a id="Test the server with web browser"></a>Test the server with web browser</div>
Let's test on an actual web server. In this case we'll use Nginx. Also, we'll do it locally on your computer, since not everyone has a server on the web.<br/>
<br/>
First, edit Nginx config file, which for Ubuntu/Debian is at:<br/>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_324' class=notranslate>
/etc/nginx/sites-enabled/default</pre>
<span id=golf_copied_324 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='golft_324' style='position: absolute;left: -500%;'></textarea>
<img src='https://golf-lang.com/golf-copy-small-1.png' id='golfb' onclick='gg_copy(golft_324, code_324, golf_copied_324)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
and on Fedora/RedHat is at:<br/>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_325' class=notranslate>
/etc/nginx/nginx.conf</pre>
<span id=golf_copied_325 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='golft_325' style='position: absolute;left: -500%;'></textarea>
<img src='https://golf-lang.com/golf-copy-small-1.png' id='golfb' onclick='gg_copy(golft_325, code_325, golf_copied_325)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
Note you might have to use "sudo" to edit these files as they're generally not writable by ordinary users.<br/>
<br/>
Find the "server" section, and add this inside it (replace "your-user" with your OS user name):<br/>
<div class='ncode' style='position:relative;padding-right:16px;'>
<pre id='code_316' class=notranslate>
location /fact/ { include /etc/nginx/fastcgi_params; fastcgi_pass  unix:///home/your-user/.golf/apps/fact/sock/.sock; }</pre>
<span id=golf_copied_316 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='golft_316' style='position: absolute;left: -500%;'></textarea>
<img src='https://golf-lang.com/golf-copy-small-1.png' id='golfb' onclick='gg_copy(golft_316, code_316, golf_copied_316)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
This will connect Nginx with the "fact" server you started above. Any requests with a URL path that start with "/fact/" will be delivered to your server, and the reply will go in reverse, ultimately being delivered to the client (such as web browser).<br/>
<br/>
Restart Nginx server for this to take effect:<br/>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_326' class=notranslate>
sudo systemctl restart nginx</pre>
<span id=golf_copied_326 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='golft_326' style='position: absolute;left: -500%;'></textarea>
<img src='https://golf-lang.com/golf-copy-small-1.png' id='golfb' onclick='gg_copy(golft_326, code_326, golf_copied_326)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
Try it from web browser with this URL:<br/>
<div class='ncode' style='position:relative;padding-right:16px;'>
<pre id='code_319' class=notranslate>
http://127.0.0.1/fact/calc-fact/par=8</pre>
<span id=golf_copied_319 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='golft_319' style='position: absolute;left: -500%;'></textarea>
<img src='https://golf-lang.com/golf-copy-small-1.png' id='golfb' onclick='gg_copy(golft_319, code_319, golf_copied_319)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
If your Nginx runs on another port, specify it, for instance if it runs on port 81, use "127.0.0.1:81" instead.<br/>
<br/>
The result is:<br/>
<div class='ncode' style='position:relative;padding-right:16px;'>
<pre id='code_321' class=notranslate>
Factorial of 8 is 40320</pre>
<span id=golf_copied_321 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='golft_321' style='position: absolute;left: -500%;'></textarea>
<img src='https://golf-lang.com/golf-copy-small-1.png' id='golfb' onclick='gg_copy(golft_321, code_321, golf_copied_321)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
Of course, if you have a server on the web, just substitute "127.0.0.1" for your server's web address.<br/>
<div class="vsub"><a id="See also"></a>See also</div>
 <a name='Articles'></a><span style="font-weight:bold;">Articles</span><br/>
<a href='https://golf-lang.com/article-capi.html'>article-capi</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-cookies.html'>article-cookies</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-debug.html'>article-debug</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-distributed.html'>article-distributed</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-encryption.html'>article-encryption</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-fetch-web-page.html'>article-fetch-web-page</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-fifo.html'>article-fifo</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-file-manager.html'>article-file-manager</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-hello-server.html'>article-hello-server</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-hello-world.html'>article-hello-world</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-hello-world-service.html'>article-hello-world-service</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-hello-world-service-web.html'>article-hello-world-service-web</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-how-to-create-golf-application.html'>article-how-to-create-golf-application</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-json.html'>article-json</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-language.html'>article-language</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-mariadb.html'>article-mariadb</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-memory-safety.html'>article-memory-safety</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-memory-safety-web.html'>article-memory-safety-web</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-notes-postgres.html'>article-notes-postgres</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-random.html'>article-random</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-regex.html'>article-regex</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-remote-call.html'>article-remote-call</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-request-function.html'>article-request-function</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-security.html'>article-security</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-sendmail.html'>article-sendmail</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-server.html'>article-server</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-shopping.html'>article-shopping</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-sqlite.html'>article-sqlite</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-statements.html'>article-statements</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-status-check.html'>article-status-check</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-tree.html'>article-tree</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-tree-web.html'>article-tree-web</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-vim-coloring.html'>article-vim-coloring</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-web-framework-for-c-programming-language.html'>article-web-framework-for-c-programming-language</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-what-is-golf.html'>article-what-is-golf</a> &nbsp;<br/>
<a href='https://golf-lang.com/article-what-is-web-service.html'>article-what-is-web-service</a> &nbsp; <br/>
<span style="font-weight:bold;">See all</span> <br/>
<a href='https://golf-lang.com/documentation.html'>documentation</a><br/>
<!--ENDVDOC90-->
<br/><div style='width:100%;clear:both;'>
<hr/>
<!--GOLFFOOT77--><span style='font-size:80%'><a href="https://golf-lang.com/copyright.html">Copyright</a> (c) 2019-2025 Gliim LLC. All contents on this web site is "AS IS" without warranties or guarantees of any kind.</span>
</div><br/></body></html>


